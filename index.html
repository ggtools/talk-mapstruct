<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8"/>
    <title>BordeauxJUG Lightning talk &emdash; MapStruct</title>

    <meta name="description" content="jmpress.js is a jQuery plugin to build a website on the infinite canvas">
    <meta name="author" content="Kyle Robinson Young @shama & Tobias Koppers @sokra"/>
    <meta name="viewport" content="width=device-width, maximum-scale=1.0, initial-scale=1.0, user-scalable=yes"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

    <link href="css/mapstruct.css" rel="stylesheet" type="text/css"/>
    <link href="css/highlight.css" rel="stylesheet" type="text/css"/>
    <link href="css/basic-animations.css" rel="stylesheet" type="text/css"/>

    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/jmpress.js"></script>
</head>
<body>

<div id="mapstruct">
    <div class="step title" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="0" data-y="0" data-z="0">
        <div class="contents">
            <h1>Lightning talk</h1>

            <h2>BordeauxJUG</h2>

            <h3>16 avril 2015</h3>
        </div>
    </div>



    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="1600" data-y="0" data-z="0">
        <h1>Moi</h1>

        <h2>Christophe Labouisse</h2>
        <ul>
            <li>Développeur Java Freelance</li>
            <li>Mais pas que &hellip;</li>
            <li>Blog : <a href="http://www.labouisse.com/">http://www.labouisse.com/</a></li>
            <li>Twitter : <a href="https://twitter.com/XtlCnslt">@XtlCnslt</a></li>
        </ul>
    </div>



    <div class="step title" data-rotate-x="0" data-rotate-y="0" data-rotate-z="45" data-scale="1" data-x="1131.37" data-y="1131.37" data-z="0">
        <div class="contents"><h1>Mapstruct</h1>

            <h2><em>Java bean mappings, the easy way!</em></h2>
        </div>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="45" data-scale="1" data-x="2262.74" data-y="2262.74" data-z="0">
        <h2>Des Mappers &amp; des Hommes</h2>

        <p>On a besoin d'un <em>mapper</em> dès que l'on doit <strong>copier</strong> des données entre des objets (beans).</p>

        <p data-jmpress="drive-left">Dans la vraie vie ça arrive tout le temps :</p>
        <ul>
            <li data-jmpress="drive-left after 1s">DTOs</li>
            <li data-jmpress="drive-left after 1s">Entités</li>
            <li data-jmpress="drive-left after 1s">Objets métiers</li>
            <li data-jmpress="drive-left after 1s">Dénormalisation</li>
        </ul>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="45" data-scale="1" data-x="3394.11" data-y="3394.11" data-z="0">
        <h2><em>Manu Devolopperi</em></h2>

        <p>On peut très bien écrire de mappers à la main :</p><pre class="highlight code java"><span class="kd">public</span> <span
            class="n">PersonDTO</span> <span class="nf">convert</span><span class="o">(</span><span class="n">PersonEntity</span> <span class="n">entity</span><span
            class="o">)</span> <span class="o">{</span>
    <span class="n">dto</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PersonDTO</span><span class="o">();</span>
    <span class="n">dto</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="n">entity</span><span
                class="o">.</span><span class="na">getName</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">dto</span><span class="o">;</span>
<span class="o">}</span></pre>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="45" data-scale="1" data-x="4525.48" data-y="4525.48" data-z="0">
        <h2>Vraiment ?</h2>
        <blockquote>Écrire un mapper c'est comme éplucher une patate, on y arrive sans outils mais avec c'est vraiment plus simple</blockquote>
        <div class="author">Ma mère grand</div>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="45" data-scale="1" data-x="5656.85" data-y="5656.85" data-z="0">
        <img class="four-third" src="img/willy-waller.gif">
    </div>



    <div class="step title" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="0" data-y="1600" data-z="0">
        <div class="contents"><h1>Mapstruct contre le reste du monde</h1></div>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="0" data-y="3200" data-z="0">
        <h2>Les bibliothèques existantes</h2>

        <p>Il y a plein de bibliothèques pour créer <em>automagiquement</em> des mappers plus ou moins simplement.</p>
        <ul>
            <li data-jmpress="drive-left after 1s">Dozer</li>
            <li data-jmpress="drive-left after 1s">Orika</li>
            <li data-jmpress="drive-left after 1s">MapStruct</li>
            <li data-jmpress="drive-left after 1s">JMapper</li>
            <li data-jmpress="drive-left after 1s">Une page de Stackoverflow en recense 13 : <a href="http://xlct.it/1CPXOuO">http://xlct.it/1CPXOuO</a></li>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="0" data-y="4800" data-z="0">
        <h2>Comparaison des performances</h2>

        <p>Benchmark jmh avec 4 systèmes :</p>
        <ul>
            <li data-jmpress="drive-left after 1s">Dozer</li>
            <li data-jmpress="drive-left after 1s">Orika</li>
            <li data-jmpress="drive-left after 1s">MapStruct</li>
            <li data-jmpress="drive-left after 1s">À la main</li>
        </ul>
    </div>
    <div class="step perfs" id="perfs" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="0" data-y="6400" data-z="0">
        <h2>Résultats</h2>

        <div data-jmpress="scale after #manual-results">
            <div id="perf-container-dozer" class="perf-container" data-jmpress="fade after step">
                <img class="dozer" src="img/cartman.png">
                Dozer<br>
                <span id="dozer-results" data-jmpress="drive-up after #perf-container-manual">7531 m/s</span>
            </div>
            <div id="perf-container-orika" class="perf-container" style="left: 27%;" data-jmpress="fade after 1s #perf-container-dozer">
                <img class="orika" src="img/stan.png">
                Orika<br>
                <span id="orika-results" data-jmpress="drive-up after 1.5s #dozer-results">149560 m/s</span>
            </div>
            <div id="perf-container-mapstruct" class="perf-container" style="left: 52%;" data-jmpress="fade after 1s #perf-container-orika">
                <img class="mapstruct" src="img/kenny.png">
                MapStruct<br>
                <span id="mapstruct-results" data-jmpress="drive-up after 1.5s #orika-results">766513 m/s</span>
            </div>
            <div id="perf-container-manual" class="perf-container" style="left: 77%;" data-jmpress="fade after 1s #perf-container-mapstruct">
                <img class="manual" src="img/kyle.png">
                Manuel<br>
                <span id="manual-results" data-jmpress="drive-up after 1.5s #mapstruct-results">980268 m/s</span>
            </div>
        </div>
    </div>


    
    <div class="step title" data-rotate-x="0" data-rotate-y="0" data-rotate-z="135" data-scale="1" data-x="-1131.37" data-y="1131.37" data-z="0">
        <div class="contents">
            <h1>Utilisation</h1>

            <h2>Mapper vers un DTO</h2>
        </div>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="135" data-scale="1" data-x="-2262.74" data-y="2262.74" data-z="0">
        <h2>Les objets</h2>

        <div style="display: inline-block">
            <pre class="highlight code java"><span class="kd">public</span> <span
                    class="kd">class</span> <span class="nc">Car</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">make</span><span class="o">;</span><span id="one" data-jmpress="fade after #issues" class="badge">❶</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">numberOfSeats</span><span class="o">;</span><span data-jmpress="fade after 1ms #one" class="badge">❶</span>
    <span class="kd">private</span> <span class="n">CarType</span> <span class="n">type</span><span class="o">;</span><span id="two" data-jmpress="fade" class="badge">❷</span>
<span class="o">}</span></pre><pre class="highlight code java"><span class="kd">public</span> <span class="kd">class</span> <span
                class="nc">CarDto</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">manufacturer</span><span class="o">;</span><span data-jmpress="fade after 1ms #one" class="badge">❶</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">seatCount</span><span class="o">;</span><span data-jmpress="fade after 1ms #one" class="badge">❶</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">type</span><span class="o">;</span><span data-jmpress="fade after 1ms #two" class="badge">❷</span>
<span class="o">}</span></pre>
        </div>
        <div style="display: inline-block; vertical-align: top">
            <p id="issues" data-jmpress="fade after step">Difficultés</p>
            <ol class="badge">
                <li data-jmpress="fade after 1ms #one" class="one">noms différents</li>
                <li data-jmpress="fade after 1ms #two" class="two">enum vs <code>String</code></li>
            </ol>
        </div>

    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="135" data-scale="1" data-x="-3394.11" data-y="3394.11" data-z="0">
        <h2>Définition du mapper</h2>
        <pre class="highlight code java"><span class="nd">@Mapper</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">CarMapper</span> <span class="o">{</span>
    <span class="nd">@Mappings</span><span class="o">({</span>
            <span class="nd">@Mapping</span><span class="o">(</span><span class="n">source</span> <span class="o">=</span> <span
                    class="s">"make"</span><span class="o">,</span>
                     <span class="n">target</span> <span class="o">=</span> <span class="s">"manufacturer"</span><span class="o">),</span>
            <span class="nd">@Mapping</span><span class="o">(</span><span class="n">source</span> <span class="o">=</span> <span class="s">"numberOfSeats"</span><span
                    class="o">,</span>
                     <span class="n">target</span> <span class="o">=</span> <span class="s">"seatCount"</span><span class="o">)</span>
    <span class="o">})</span>
    <span class="n">CarDto</span> <span class="nf">carToCarDto</span><span class="o">(</span><span class="n">Car</span> <span
                    class="n">car</span><span class="o">);</span>
<span class="o">}</span></pre>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="135" data-scale="1" data-x="-4525.48" data-y="4525.48" data-z="0">
        <h2>Code généré</h2><pre class="highlight code java"><span class="kd">public</span> <span
            class="kd">class</span> <span class="nc">CarMapperImpl</span> <span class="kd">implements</span> <span
            class="n">CarMapper</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">CarDto</span> <span class="nf">carToCarDto</span><span class="o">(</span><span class="n">Car</span> <span
                class="n">car</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span> <span class="n">car</span> <span class="o">==</span> <span class="kc">null</span> <span
                class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">CarDto</span> <span class="n">carDto</span> <span class="o">=</span> <span class="k">new</span> <span
                class="n">CarDto</span><span class="o">();</span>
        <span class="n">carDto</span><span class="o">.</span><span class="na">setSeatCount</span><span class="o">(</span> <span
                class="n">car</span><span class="o">.</span><span class="na">getNumberOfSeats</span><span class="o">()</span> <span
                class="o">);</span>
        <span class="n">carDto</span><span class="o">.</span><span class="na">setManufacturer</span><span class="o">(</span> <span
                class="n">car</span><span class="o">.</span><span class="na">getMake</span><span class="o">()</span> <span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span> <span class="n">car</span><span class="o">.</span><span class="na">getType</span><span
                class="o">()</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">)</span> <span class="o">{</span>
            <span class="n">carDto</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span> <span
                class="n">car</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span
                class="na">toString</span><span class="o">()</span> <span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">carDto</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></pre>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="135" data-scale="1" data-x="-5656.85" data-y="5656.85" data-z="0">
        <h2>Utiliser un mapper</h2>
        <ul>
            <li>Manuellement :</li>
        </ul>
        <pre class="highlight code java"><span class="n">Mappers</span><span class="o">.</span><span class="na">getMapper</span><span
                class="o">(</span><span class="n">CarMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span></pre>
        <ul>
            <li>Définir explicitement un framework d'injection :</li>
        </ul><pre class="highlight code java"><span class="nd">@Mapper</span><span class="o">(</span><span class="n">componentModel</span> <span
            class="o">=</span> <span
            class="s">"cdi"</span><span class="o">)</span>
<span class="nd">@Mapper</span><span class="o">(</span><span class="n">componentModel</span> <span class="o">=</span> <span
                class="s">"spring"</span><span class="o">)</span>
<span class="nd">@Mapper</span><span class="o">(</span><span class="n">componentModel</span> <span class="o">=</span> <span
                class="s">"jsr330"</span><span class="o">)</span></pre>
        <ul>
            <li>Configurer le comportement par défaut :</li>
        </ul>
        <pre class="highlight code properties"><span class="na">mapstruct.defaultComponentModel</span><span class="o">=</span><span
                class="s">cdi</span></pre>
    </div>



    <div class="step title" data-rotate-x="0" data-rotate-y="0" data-rotate-z="180" data-scale="1" data-x="-1600" data-y="0" data-z="0">
        <div class="contents">
            <h1>Utilisation</h1>

            <h2>Aggrégation</h2>
        </div>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="180" data-scale="1" data-x="-3200" data-y="0" data-z="0">
        <h2>Les objets</h2>

        <p>On veut ajouter le prix dans le DTO :</p><pre class="highlight code java"><span class="kd">private</span> <span
            class="kt">double</span> <span class="n">price</span><span class="o">;</span>
<span class="kd">private</span> <span class="n">String</span> <span class="n">validity</span><span class="o">;</span></pre>
        <p>Le prix provient de <code>CarPrice</code> :</p><pre class="highlight code java"><span class="kd">public</span> <span
            class="kd">class</span> <span class="nc">CarPrice</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">BigDecimal</span> <span class="n">value</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">LocalDateTime</span> <span class="n">validity</span><span class="o">;</span>
<span class="o">}</span></pre>
    </div>

    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="180" data-scale="1" data-x="-4800" data-y="0" data-z="0">
        <h2>Définition du mapper</h2>
        <pre class="highlight code java"><span class="nd">@Mapper</span><span
                class="o">(</span><span class="n">componentModel</span> <span class="o">=</span> <span class="s">"default"</span><span
                class="o">)</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">CarMapper</span> <span class="o">{</span>
    <span class="nd">@Mappings</span><span class="o">({</span>
            <span class="nd">@Mapping</span><span class="o">(</span><span class="n">source</span> <span class="o">=</span> <span
                    class="s">"car.make"</span><span class="o">,</span>
                     <span class="n">target</span> <span class="o">=</span> <span class="s">"manufacturer"</span><span class="o">),</span>
            <span class="nd">@Mapping</span><span class="o">(</span><span class="n">source</span> <span class="o">=</span> <span class="s">"car.numberOfSeats"</span><span
                    class="o">,</span>
                     <span class="n">target</span> <span class="o">=</span> <span class="s">"seatCount"</span><span class="o">),</span>
            <span class="nd">@Mapping</span><span class="o">(</span><span class="n">source</span> <span class="o">=</span> <span class="s">"price.value"</span><span
                    class="o">,</span>
                     <span class="n">target</span> <span class="o">=</span> <span class="s">"price"</span><span class="o">)</span>
    <span class="o">})</span>
    <span class="n">CarDto</span> <span class="nf">carToCarDto</span><span class="o">(</span><span class="n">Car</span> <span
                    class="n">car</span><span class="o">,</span> <span class="n">CarPrice</span> <span class="n">price</span><span class="o">);</span>
<span class="o">}</span></pre>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="180" data-scale="1" data-x="-6400" data-y="0" data-z="0">
        <h2>Code généré</h2>
        <pre class="highlight code java"><span class="kd">public</span> <span
                class="n">CarDto</span> <span class="nf">carToCarDto</span><span class="o">(</span><span class="n">Car</span> <span
                class="n">car</span><span class="o">,</span> <span class="n">CarPrice</span> <span class="n">price</span><span
                class="o">)</span> <span
                class="o">{</span>
    <span class="k">if</span> <span class="o">(</span> <span class="n">car</span> <span class="o">==</span> <span class="kc">null</span> <span
                    class="o">&amp;&amp;</span> <span class="n">price</span> <span class="o">==</span> <span class="kc">null</span> <span
                    class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="n">CarDto</span> <span class="n">carDto</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CarDto</span><span
                    class="o">();</span>
    <span class="k">if</span> <span class="o">(</span> <span class="n">car</span> <span class="o">!=</span> <span class="kc">null</span> <span
                    class="o">)</span> <span class="o">{</span>
        <span class="c1">// &#x2026;
</span>    <span class="o">}</span>
    <span class="k">if</span> <span class="o">(</span> <span class="n">price</span> <span class="o">!=</span> <span class="kc">null</span> <span
                    class="o">)</span> <span class="o">{</span>
        <span class="c1">// &#x2026;
</span>    <span class="o">}</span>
    <span class="k">return</span> <span class="n">carDto</span><span class="o">;</span>
<span class="o">}</span></pre>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="180" data-scale="1" data-x="-8000" data-y="0" data-z="0">
        <h2>Code généré (suite)</h2>
        <pre class="highlight code java"><span class="k">if</span> <span
                class="o">(</span> <span class="n">price</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">)</span> <span
                class="o">{</span>
    <span class="k">if</span> <span class="o">(</span> <span class="n">price</span><span class="o">.</span><span class="na">getValue</span><span
                    class="o">()</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">)</span> <span class="o">{</span>
        <span class="n">carDto</span><span class="o">.</span><span class="na">setPrice</span><span class="o">(</span> <span
                    class="n">price</span><span class="o">.</span><span class="na">getValue</span><span class="o">().</span><span
                    class="na">doubleValue</span><span class="o">()</span> <span class="o">);</span>
    <span class="o">}</span>
    <span class="k">if</span> <span class="o">(</span> <span class="n">price</span><span class="o">.</span><span class="na">getValidity</span><span
                    class="o">()</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">)</span> <span class="o">{</span>
        <span class="n">carDto</span><span class="o">.</span><span class="na">setValidity</span><span class="o">(</span>
          <span class="n">DateTimeFormatter</span><span class="o">.</span><span class="na">ISO_LOCAL_DATE_TIME</span>
            <span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">price</span><span class="o">.</span><span
                    class="na">getValidity</span><span class="o">()));</span>
    <span class="o">}</span>
<span class="o">}</span></pre>
    </div>



    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="225" data-scale="1" data-x="-1131.37" data-y="-1131.37"
         data-z="0"><h1>Trucs cools</h1>
        <ol>
            <li data-jmpress="drive-left">Les dates : Java, Joda Time, Java 8</li>
            <li data-jmpress="drive-left after 1s">Objets imbriqués</li>
            <li data-jmpress="drive-left after 1s">Collections &amp; Maps</li>
            <li data-jmpress="drive-left after 1s"><em>Object factories</em></li>
            <li data-jmpress="drive-left after 1s">Décorateurs</li>
            <li data-jmpress="drive-left after 1s">Code généré disponible (<em>i.e.</em> <code>target/generated-sources</code>)</li>
        </ol>
    </div>



    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="270" data-scale="1" data-x="0" data-y="-1600"
         data-z="0"><h1>Les trucs pas cool</h1>
        <ul>
            <li>
                <dl>
                    <dt>Génération de code</dt>
                    <dd>
                        <ul>
                            <li>Configuration Maven/Gradle</li>
                            <li>Il faut se battre (un peu) avec les IDE</li>
                            <li>Peut demander un peu de travail avec Jaxb</li>
                            <li>Ne fonctionne pas (facilement) avec Lombok</li>
                        </ul>
                    </dd>
                </dl>
            </li>
            <li>Projet jeune version 1.0.0-beta4</li>
            <li>Objets immuables</li>
        </ul>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="270" data-scale="1" data-x="0" data-y="-3200" data-z="0">
        <h2>Objets immuables</h2>

        <p>Pojo avec des champs <code>final</code> :</p><pre class="highlight code java"><span class="kd">public</span> <span
            class="n">PersonDTO</span> <span class="nf">convert</span><span class="o">(</span><span class="n">PersonEntity</span> <span class="n">entity</span><span
            class="o">)</span> <span class="o">{</span>
    <span class="n">dto</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PersonDTO</span><span class="o">(</span><span
                class="n">entity</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">dto</span><span class="o">;</span>
<span class="o">}</span></pre>
        <p>MapStruct ne sait pas encore le faire : <a href="https://github.com/mapstruct/mapstruct/issues/73">https://github.com/mapstruct/mapstruct/issues/73</a>
        </p>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="270" data-scale="1" data-x="0" data-y="-4800" data-z="0">
        <img class="square" src="img/dog-stick.gif"/>
        <img data-jmpress="fade" class="square front" style="top: -70vmin;" src="img/workaround.jpg"/>
    </div>
    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="270" data-scale="1" data-x="0" data-y="-6400" data-z="0">
        <h2>Contournement</h2>

        <p>Utiliser un <em>builder</em></p><pre class="highlight code java"><span class="nd">@Mapper</span>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">CarMapper</span> <span
                class="o">{</span>

    <span class="kd">public</span> <span class="n">CarDto</span> <span class="nf">carToCarDto</span><span class="o">(</span><span class="n">Car</span> <span
                class="n">car</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">carToCarDtoBuilder</span><span class="o">(</span><span class="n">car</span><span
                class="o">).</span><span class="na">createCarDto</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Mappings</span><span class="o">({</span><span class="nd">&hellip;</span><span class="o">})</span>
    <span class="kd">protected</span> <span class="kd">abstract</span>
        <span class="n">CarDtoBuilder</span> <span class="nf">carToCarDtoBuilder</span><span
                class="o">(</span><span class="n">Car</span> <span class="n">car</span><span class="o">);</span>
<span class="o">}</span></pre>
    </div>



    <div class="step" data-rotate-x="0" data-rotate-y="0" data-rotate-z="315" data-scale="1" data-x="1131.37" data-y="-1131.37"
         data-z="0"><h1>Liens</h1>
        <ol>
            <li>MapStruct : <a href="http://mapstruct.org/">http://mapstruct.org/</a></li>
            <li>Exemples : <a href="https://github.com/mapstruct/mapstruct-examples">https://github.com/mapstruct/mapstruct-examples</a></li>
            <li>Comparatif des mappers : <a
                    href="https://github.com/jbreis/compare-java-converters">https://github.com/jbreis/compare-java-converters</a></li>
            <li>Les slides &amp; les exemples : <a href="https://github.com/ggtools/talk-mapstruct">https://github.com/ggtools/talk-mapstruct</a></li>
        </ol>
    </div>



    <div class="step title" data-rotate-x="-45" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="0" data-y="4525.48" data-z="4525.48">
        <div class="contents"><h1>Questions</h1></div>
    </div>
</div>

<div class="hint">
    <p>Use arrow keys to navigate</p>
</div>

<script type="text/javascript">
    $(function () {
        $('#mapstruct').jmpress();
    });
    $('#perfs')
            .on('enterStep', function (event) {
                $('body').css("background-image", "url('img/background-southpark.jpg')");
            })
            .on('leaveStep', function (event) {
                $('body').css("background-image", "url('img/background.png')");
            });
</script>

</body>
</html>
